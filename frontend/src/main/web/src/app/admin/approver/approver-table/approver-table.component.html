<div class="list-group">
  <ul>
    <li class="list-group-item" *ngFor="let approver of approvers | filter: filterCriteria: filterContent">
      <div class="row">
        <div class="col-1"
             title="id"
        >
          <span class="badge badge-primary badge-pill idBadge">{{approver.id}}</span>
        </div>

        <div class="row col-5 offset-6"
             *ngIf="!isForUpdateMessage"
        >
          <div class="col-1 offset-4 offset-lg-8">
            <p data-placement="top" data-toggle="tooltip" title="Edit" (click)="onUpdate(approver)"
               class="updatePrgph"
            >
              <button class="btn btn-primary btn-md"><i class="fa fa-edit"></i></button>
            </p>
          </div>

          <div class="col-1 offset-1">
            <p data-placement="top" data-toggle="tooltip" title="Delete" (click)="onDelete()" class="deletePrgph">
              <button class="btn btn-danger btn-md" data-title="Delete" data-toggle="modal" data-target="#delete"><i
                class="fa fa-trash"></i></button>
            </p>
          </div>
        </div>
      </div>

      <form [formGroup]="form" (ngSubmit)="onSubmit()"

      >
        <div class="row">
          <div class="col-md-8">
            <div class="row">
              <h3 class="col-2">Name</h3>
              <h3 class="col-2 offset-3" *ngIf="currentApproverForUpdate !== approver">
                {{approver.name}}</h3>
              <input type="text" class="form-control"
                     [value]="currentApproverForUpdate.name"
                     formControlName="name" *ngIf="currentApproverForUpdate === approver && !isForUpdateMessage"
                     [ngClass]="{
                   'is-invalid':form.get('name').invalid,
                   'is-valid': form.get('name').valid
                   }"
              >
            </div>

            <hr>

            <div class="row">
              <h5 class="col-2">Email</h5>
              <p class="col-2 offset-3" *ngIf="currentApproverForUpdate !== approver">
                {{approver.email}}</p>
              <input type="text" class="form-control"
                     [value]="currentApproverForUpdate.email"
                     formControlName="email" *ngIf="currentApproverForUpdate === approver && !isForUpdateMessage"
                     [ngClass]="{
                   'is-invalid':form.get('email').invalid,
                   'is-valid': form.get('email').valid
                   }"
              >
            </div>

            <hr>

            <div class="row">
              <h5 class="col-2">Telephone</h5>
              <p class="col-2 offset-3" *ngIf="currentApproverForUpdate !== approver">
                {{approver.telephone}}</p>
              <input type="tel" class="form-control" formControlName="tel"
                     *ngIf="currentApproverForUpdate === approver && !isForUpdateMessage"
                     [value]="currentApproverForUpdate.telephone"
                     [disabled]="isForUpdateMessage"
                     [ngClass]="{
                   'is-invalid':form.get('tel').invalid,
                   'is-valid': form.get('tel').valid
                   }"
              >
            </div>

            <hr>

            <div class="row">
              <h5 class="col-2">Status</h5>
              <div class="col-4 offset-3 alert text-center" *ngIf="currentApproverForUpdate !== approver"
                   [ngClass]="{
               'alert-success': (approver.status === 'on'),
               'alert-danger': (approver.status === 'off')
               }"
              >
                {{approver.status | aprroverShowStatus}}
              </div>
            </div>

            <div class="custom-control custom-radio custom-control-inline"
                 *ngIf="currentApproverForUpdate === approver && !isForUpdateMessage"
            >
              <input type="radio"
                     id="updateActivated"
                     name="status"
                     class="custom-control-input"
                     value="on"
                     formControlName="status"
              >
              <label class="custom-control-label" for="updateActivated">Activated</label>
            </div>

            <div class="custom-control custom-radio custom-control-inline"
                 *ngIf="currentApproverForUpdate === approver && !isForUpdateMessage"
            >
              <input type="radio"
                     id="updateDeactivated"
                     name="status"
                     class="custom-control-input"
                     value="off"
                     formControlName="status"
              >
              <label class="custom-control-label" for="updateDeactivated">Deactivated</label>
            </div>

            <hr>

            <div class="row">
              <h5 class="col-2">Date of creation</h5>
              <p class="col-2 offset-3">{{approver.creation_date | date}}</p>
            </div>

            <hr>

            <div class="row" *ngIf="currentApproverForUpdate === approver && isEditButtonBlockedAfterSubmit && !isForUpdateMessage"
            >
              <button class="btn btn-success col-4"
                      type="submit"
                      [disabled]="form.invalid"
              >Edit
              </button>
            </div>

            <div class="alert alert-success text-center"
                 *ngIf="isForUpdateMessage && currentApproverForUpdate === approver"
            >
              <h4>
                Updated
              </h4>
            </div>
          </div>
        </div>
      </form>
    </li>
  </ul>
</div>

<hr>

<div class="clearfix"></div>
<ul class="pagination" style="justify-content: center">
  <li class="page-item">
    <a class="page-link" href="#" aria-label="Previous">
      <span aria-hidden="true">&laquo;</span>
      <span class="sr-only">Previous</span>
    </a>
  </li>
  <li class="page-item"><a class="page-link" href="#">1</a></li>
  <li class="page-item"><a class="page-link" href="#">2</a></li>
  <li class="page-item"><a class="page-link" href="#">3</a></li>
  <li class="page-item">
    <a class="page-link" href="#" aria-label="Next">
      <span aria-hidden="true">&raquo;</span>
      <span class="sr-only">Next</span>
    </a>
  </li>
</ul>
